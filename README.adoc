= kubernetes-embedded-hazelcast

Library provides closed kubernetes cluster for one service pods throw Spring Cache.

[source,xml]
----
<dependency>
  <groupId>io.github.sevenparadigms</groupId>
  <artifactId>kubernetes-embedded-hazelcast</artifactId>
  <version>1.0.5</version>
</dependency>
----

Properties in application.yml:
[source,yaml]
----
hazelcast:
    kubernetes: false
    timeoutMinutes: 5
    namespace: default
    serviceName: Goonies
----

Service name can also get from: `spring.application.name` if `hazelcast.serviceName` is empty. All properties have default values and do not require.

Kubernetes yaml:
[source,yaml]
----
apiVersion: apps/v1
kind: Deployment
metadata:
  name: employee-service
  labels:
    app: employee-service
spec:
  replicas: 2
  selector:
    matchLabels:
      app: employee-service
  template:
    metadata:
      labels:
        app: employee-service
    spec:
      containers:
        - name: employee-service
          image: piomin/employee-service
          ports:
            - name: http
              containerPort: 8080
            - name: multicast
              containerPort: 5701
---
apiVersion: v1
kind: Service
metadata:
  name: employee-service
  labels:
    app: employee-service
spec:
  ports:
    - port: 8080
      protocol: TCP
  selector:
    app: employee-service
  type: NodePort
----